<!DOCTYPE html>
<html lang='en-GB'>
  <head>
    <meta charset='utf-8' />
    <title>Task Tracker | Ayoub Gutin</title>
  <link rel='preconnect' href='https://fonts.googleapis.com'>
  <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
  <link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap' rel='stylesheet'>
  <link rel='stylesheet' href='{{ url_for('static', filename='css/styles.css') }}'/> 
  </head>

  <body>
    <!-- Navigation Bar-->
    <nav>
      <ul>
        <li class='active'><a href='{{ url_for('index') }}'>home.</a></li>
        <li><a href='#'>graph.</a></li>
        <li><a href='{{ url_for('calendar_page') }}'>calendar.</a></li>
      </ul>
    </nav>

    <main>
      <div class = 'main-header'>
        <h1 class='app-logo'>synapse.</h1>
        <div class='profile-avatar'></div>
      </div>


      <div class='dashboard-grid'>
        <!-- Left Column-->
        <div class='dashboard-column'>
          <!-- Goal Focus Widget -->
          <div class='widget goal-focus-widget'>
            <h2>what is your main objective?</h2>
            <div class='goal-input-group'>
              <input type='text' placeholder='e.g., learn french.....' id='objective-input'>
              <button id='open-generate-task-modal'>generate tasks</button>
            </div>
          </div>

          <div class='widget task-widget'>
            <h2>my tasks.</h2>
        
            <div class='widget-tabs'>
              <button class='tab-btn active' data-status='todo'>to-do.</button>
              <button class='tab-btn' data-status='completed'>completed.</button>
              <button class='tab-btn' data-status='overdue'>overdue.</button>
            </div>


            <ul id='task-list' class='widget-task-list'>
              <li class='widget-task-item is-parent' data-status='todo' data-task-id='task-1'>
                <div class='task-row'>
                  <div class='task-info'>
                    <svg class='expand-icon' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'>
                      <polyline points='9 18 15 12 9 6'></polyline>
                    </svg>
                    <span class='status-icon'></span>
                    <span>Objective 1</span>
                  </div>
                  <div class='task-metadata'>
                    <div class='task-due-date'>
                      <svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-calendar-icon lucide-calendar'><path d='M8 2v4'/><path d='M16 2v4'/><rect width='18' height='18' x='3' y='4' rx='2'/><path d='M3 10h18'/></svg>
                      <span>June 15</span>
                    </div>
                    <div class='priority-dot high'></div>
                  </div>
                </div> 
                <ul class='sub-tasks'>
                  <li class='widget-task-item' data-status='todo' data-task-id='sub-task-1-1' data-parent-id='task-1'>
                    <div class='task-row'>
                      <div class='task-info indented'>
                        <span class='status-icon'></span>
                        <span>Sub objective</span>
                      </div>
                      <div class='task-metadata'>
                        <div class='task-due-date'>
                          <svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-calendar-icon lucide-calendar'><path d='M8 2v4'/><path d='M16 2v4'/><rect width='18' height='18' x='3' y='4' rx='2'/><path d='M3 10h18'/></svg>
                          <span>June 15</span>
                        </div>
                        <div class='priority-dot high'></div>
                      </div>
                    </div>
                  </li>
                </ul>

              </li> <li class='widget-task-item is-parent' data-status='completed' data-task-id='task-2'>
                <div class='task-row'>
                  <div class='task-info'>
                    <svg class='expand-icon' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'>
                      <polyline points='9 18 15 12 9 6'></polyline>
                    </svg>
                    <span class='status-icon checked'></span>
                    <span>Objective 2</span>
                  </div>
                  <div class='task-metadata'>
                    <div class='task-due-date'>
                      <svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-calendar-icon lucide-calendar'><path d='M8 2v4'/><path d='M16 2v4'/><rect width='18' height='18' x='3' y='4' rx='2'/><path d='M3 10h18'/></svg>
                      <span>June 20</span>
                      <div class='priority-dot medium'></div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>

            <div class='widget-footer'>
              <a href='{{ url_for('tasks_page') }}'>expand.</a>
            </div>
          </div>
        </div>

        <!--Right Column-->
        <div class='dashboard-column'> 
          <!-- Projects Widget -->
          <div class='widget projects-widget'>
            <h2>my projects.</h2>
            <ul class='project-list'>
              <li class='project-item'>
                <div class='project-info'>
                  <span class='project-icon'></span>
                  <span class='project-name'>Synapse App</span>
                </div>
                <div class='project-progress'>
                  <div class='progress-bar-fill'></div>
                </div>
              </li>
              <li class='project-item'>
                <div class='project-info'>
                  <span class='project-icon'></span>
                  <span class='project-name'>Marketing Website</span>
                </div>
                <div class='project-progress'>
                  <div class='progress-bar-fill'></div>
                </div>
              </li>
            </ul>
            <div class='widget-footer'>
              <a href='#'>expand.</a>
            </div>
          </div>

          <div class='widget graph-preview-widget'>
            <h2>goal map.</h2>
            <div class='graph-placeholder'></div>
            <div class='widget-footer'>
              <a href='#'>expand.</a>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modals -->
    <div id='add-task-modal' class='modal-container'>
      <div class='modal-content'>
        <button class='close-modal-btn'>&times;</button> 
        <section class='add-task-form-section'>
          <form action='#' method='post'>
            <!-- Fieldset for grouping form elements -->
            <fieldset>
              <legend>
                <h2>add task.</h2>
              </legend>
              <div class='form-group'> <label for='add-title'>Title</label>
                <input type='text' id='add-title' class='form-field' name='title'required/>
              </div>
              <div class='form-group'> <label for='add-due-date'>Due Date</label>
                <input
                  type='date'
                  id='add-due-date'
                  class='form-field'
                  name='due-date'
                />
              </div>
              <div class='form-group'> <label for='add-tags'>Tags</label>
                <input
                  type='text'
                  id='add-tags'
                  class='form-field'
                  name='tags'
                  placeholder='e.g. work, personal'
                />
              </div>
              <div class='form-group'>
                <label for='add-description'>Description</label>
                <textarea
                  id='add-description'
                  class='form-field'
                  name='description'
                  placeholder='# Heading'
                ></textarea>
              </div>
              <div class='form-group'>
                <!-- Select parent task -->
                <label for='add-parent'>Parent Task</label>
                <select id='add-parent' class='dropdown' name='parent'>
                  <option value=''>No Parent</option>
                  <option value='1'>Task 1</option>
                  <option value='2'>Task 2</option>
                </select>
              </div>
              <div class='form-group'>
                <!-- Link related tasks via their title -->
                <label for='add-link'>Link</label>
                <input
                  type='text'
                  id='add-link'
                  class='form-field'
                  name='link'
                  placeholder='[[Task Title 1]]'
                />
              </div>
                <button type='submit' class='btn submit-btn' value='add task'>add task.</button>
            </fieldset>
          </form>
        </section>
      </div>
    </div>

    <div id='generate-task-modal' class='modal-container'>
      <div class='modal-content'>
        <button class='close-modal-btn generate-modal-close'>&times;</button>

        <div id='generate-form-stage' class='modal-stage active'> 
          <h3>generate tasks: more details.</h3>
          <p>
            please provide more details about your main objective to generate
            relevant tasks.
          </p>

          <div class='modal-form-group'>
            <label for='generate-task-deadline'>When do you want to achieve this goal?</label>
            <input type='date' id='generate-task-deadline'>
          </div>

          <div class='modal-form-group'>
            <label for='generate-task-priority'>What is the priority of this goal?</label>
            <select id='generate-task-priority' class='dropdown'>
              <option value='high'>High</option>
              <option value='medium'>Medium</option>
              <option value='low'>Low</option>
            </select>
          </div>

          <div class='modal-form-group'>
            <label for='generate-task-scope'>Briefly describe the scope of this goal.</label>
            <textarea id='generate-task-scope' placeholder='e.g., focus on grammar specifically'></textarea>
          </div>

          <button id='generate-btn' class='btn modal-generate-btn'>generate</button>
        </div>

        <div id='generate-loading-stage' class='modal-stage'>
          <div class='loading-spinner'></div>
          <p>Generating tasks...</p>
        </div>

        <div id='generate-preview-stage' class='modal-stage'>
          <h3>preview your new tasks</h3>
          <p>here's a visual map of the tasks we generated for you.</p>

          <div class='generated-graph-placeholder'>
            <p>Graph will be displayed here</p>
            <div style='width: 100%; height: 200px; background-color: #f0f0f0; border: 1px dashed #ccc; display: flex; align-items: center; justify-content: center; font-style: italic; color: #888;'>
                    Graph Placeholder
            </div>
          </div>
          
          <div class='modal-actions'>
            <button id='confirm-task-btn' class='btn'>confirm tasks</button>
            <button id='edit-task-btn' class='btn secondary-btn'>edit details</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Button -->
    <a id='fab-add-task' class='fab' title='Add New Task'>+</a>
    <!-- Footer -->
    <footer>
      <p>
        &copy; 2025 Ayoub Gutin |
        <a href='https://github.com/yourusername/task-tracker'
          >GitHub Repository</a
        >
      </p>
    </footer>

    <script type='module' src='../static/js/scripts.js'> </script>
  </body>


</html>

